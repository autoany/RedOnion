var vessel=ksp.flightglobals.activevessel

var rootpart=vessel.parts[0]
rootpart.children

function selfDestruct part
    var childParts=part.children
    for var i=childParts.count-1;i>=0;i--
        selfDestruct(childParts[i])
    part.explode()
    
selfDestruct rootpart