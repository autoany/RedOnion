var vessel=ksp.flightglobals.activevessel

def each lst,action
    for var i=0;i<lst.count;i++;action lst[i]

for var part in vessel.parts
    each(part.Modules,def o;print o)
    
for var part in vessel.parts
    print part
    
each vessel.parts,function o=>print o
    
print 2