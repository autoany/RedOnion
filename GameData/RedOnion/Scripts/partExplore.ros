var vessel=KSP.FlightGlobals.ActiveVessel

function freach lst,action
    for var i=0; i<lst.Count; i++; action lst[i]

vessel.parts.foreach function part
    freach part.modules, function module
        print module
        
print "testing new stuff"

for var part in vessel.parts; print part