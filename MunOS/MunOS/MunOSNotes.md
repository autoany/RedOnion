add all nonsleeping
execute until out of time or until all are sleeping.
